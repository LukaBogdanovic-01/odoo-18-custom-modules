<odoo>

    <!-- AKCIJA ZA OTVARANJE IZVJESTAJA -->
    <record id="action_lc_report_client" model="ir.actions.client">
        <field name="name">LC IzvjeÅ¡taj</field>
        <field name="tag">lc_report</field>
    </record>

<!-- VIEWS AND ACTION FOR LC CANVAS -->
    <record id="view_lc_canvas_form" model="ir.ui.view">
        <field name="name">lc.canvas.form</field>
        <field name="model">lc.canvas</field>
        <field name="arch" type="xml">
            <form string="LC Platno">
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="date"/>
                        <field name="planner_id"/>
                        <field name="type"/>
                        <field name="assigned_user_id"/>
                        <field name="link_url" placeholder="https://example.com"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_lc_canvas_tree" model="ir.ui.view">
        <field name="name">lc.canvas.list</field>
        <field name="model">lc.canvas</field>
        <field name="arch" type="xml">
            <list>
                <field name="name"/>
                <field name="date"/>
                <field name="planner_id"/>
                <field name="type"/>
                <field name="assigned_user_id"/>
            </list>
        </field>
    </record>

    <record id="view_lc_canvas_kanban" model="ir.ui.view">
    <field name="name">lc.canvas.kanban</field>
    <field name="model">lc.canvas</field>
    <field name="priority" eval="100"/>
    <field name="arch" type="xml">
        <kanban>
            <field name="name"/>
            <field name="date"/>
            <field name="planner_id"/>
            <field name="type"/>
            <field name="assigned_user_id"/>
            <field name="link_url" placeholder="https://example.com"/>
            <templates>
                <t t-name="card">
                    <div class="d-flex flex-column justify-between">
                        <!-- Klik na cijelu karticu vodi na action_open_items -->
                        <a type="object" name="action_open_items"
                           class="oe_kanban_global_click flex-grow-1"
                           style="text-decoration: none; color: inherit;">
                            <strong><field name="name"/></strong>
                            <div><strong>Datum:</strong> <field name="date"/></div>
                            <div><strong>Planer:</strong> <field name="planner_id"/></div>
                            <div><strong>Tip:</strong> <field name="type"/></div>
                            <div><strong>Dodijeljeni:</strong> <field name="assigned_user_id"/></div>
                        </a>

                        <!-- Link ka fajlu ako postoji -->
                        <div t-if="record.link_url.value" class="mt-1">
    <a t-att-href="record.link_url.value"
       target="_blank"
       style="text-decoration: none; color: #007bff;">
        ðŸ”— <t t-esc="record.link_url.value"/>
    </a>
</div>

                        <!-- Dugme za izvjeÅ¡taj -->
                        <div class="d-flex justify-content-end mt-2">
                            <button type="action"
                                    name="%(action_lc_report_client)d"
                                    string="IzvjeÅ¡taj"
                                    class="btn btn-primary btn-sm"/>
                        </div>
                    </div>
                </t>
            </templates>
        </kanban>
    </field>
</record>




    <record id="action_lc_canvas" model="ir.actions.act_window">
        <field name="name">LC Platna</field>
        <field name="res_model">lc.canvas</field>
        <field name="view_mode">kanban,list,form</field>
    </record>

    <!-- VEIWS FOR LC ITEM -->
    <record id="view_lc_item_form" model="ir.ui.view">
        <field name="name">lc.item.form</field>
        <field name="model">lc.item</field>
        <field name="arch" type="xml">
            <form string="LC Stavka">
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="block"/>
                    </group>
                    <notebook>
                        <page string="Opis">
                            <field name="description"/>
                        </page>
                        <page string="Integracije">
                            <field name="integrations"/>
                        </page>
                        <page string="Zadaci">
                            <field name="task"/>
                        </page>
                        <page string="Cilj / RjeÅ¡enje">
                            <group>
                                <field name="goal" widget="html"/>
                                <field name="result" widget="html"/>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_lc_item_tree" model="ir.ui.view">
        <field name="name">lc.item.list</field>
        <field name="model">lc.item</field>
        <field name="arch" type="xml">
            <list>
                <field name="name"/>
                <field name="canvas_id"/>
                <field name="block"/>
            </list>
        </field>
    </record>

    <record id="view_lc_item_kanban" model="ir.ui.view">
        <field name="name">lc.item.kanban</field>
        <field name="model">lc.item</field>
        <field name="arch" type="xml">
            <kanban default_group_by="block" group_create="false">
                <field name="name"/>
                <field name="description"/>
                <field name="goal"/>
                <field name="result"/>
                <templates>
                    <t t-name="card">
                        <div class="oe_kanban_global_click">
                            <strong><field name="name"/></strong>
                            <div><field name="description"/></div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>
</odoo>
