<odoo>
    <record id="view_digimen_linkbox_list" model="ir.ui.view">
        <field name="name">digimen.linkbox.list</field>
        <field name="model">digimen.linkbox</field>
        <field name="arch" type="xml">
            <list>
                <field name="name"/>
                <field name="link_type"/>
                <field name="project_id"/>
                <field name="description"/>
                <field name="is_favorite"/>
            </list>
        </field>
    </record>

    <record id="view_digimen_linkbox_form" model="ir.ui.view">
        <field name="name">digimen.linkbox.form</field>
        <field name="model">digimen.linkbox</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <button name="action_open_link" type="object" string="Otvori" class="btn-primary"/>
                    <button name="action_create_task" type="object" string="Kreiraj zadatak"/>
                </header>
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="url"/>
                        <field name="description"/>
                        <field name="link_type"/>
                        <field name="project_id"/>
                        <field name="related_model_id"/>
                        <field name="related_task_id"
                            invisible="related_model_id != 'task'"/>
                        <field name="related_partner_id"
                            domain="[('id', 'in', available_partner_ids)]"
                            invisible="related_model_id != 'partner'"/>
                        <field name="category_id"/>
                        <field name="tag_ids" widget="many2many_tags"/>
                        <field name="is_favorite"/>
                        
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_digimen_linkbox_kanban" model="ir.ui.view">
        <field name="name">digimen.linkbox.kanban</field>
        <field name="model">digimen.linkbox</field>
        <field name="arch" type="xml">
            <kanban class="o_kanban_small_column" default_group_by="category_id">
                <field name="name"/>
                <field name="description"/>
                <field name="link_type"/>
                <field name="url"/>
                <templates>
                    <t t-name="card">
                        <div class="oe_kanban_card">
                            <div class="o_kanban_record_top">
                            <strong><field name="name"/></strong>
                            </div>
                            <div class="o_kanban_record_body">
                            <field name="description"/>
                            </div>
                            <div class="o_kanban_record_bottom d-flex justify-content-between align-items-center">
                            <a t-att-href="record.url.raw_value" target="_blank" style="color: #1f6feb;">
                                Otvori
                            </a>
                            <span t-if="record.link_type.raw_value">
                                <i class="fa fa-tag"/> <t t-esc="record.link_type.raw_value"/>
                            </span>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <record id="action_digimen_linkbox" model="ir.actions.act_window">
        <field name="name">Linkovi</field>
        <field name="res_model">digimen.linkbox</field>
        <field name="view_mode">kanban,list,form</field>
    </record>







    <!-- Smart button u project.task -->
    <record id="view_task_form_inherit_linkbox" model="ir.ui.view">
        <field name="name">project.task.form.inherit.linkbox</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="project.view_task_form2"/>
        <field name="arch" type="xml">
            <xpath expr="//header" position="inside">
        <field name="linkbox_ids" widget="statinfo" icon="fa-link"
            string="Linkovi"
            modifiers="{'invisible': [('linkbox_ids', '=', [])]}"/>
    </xpath>
            <xpath expr="//sheet/notebook" position="inside">
                <page string="Linkovi">
                    <field name="linkbox_ids">
                        <list>
                            <field name="name"/>
                            <field name="link_type"/>
                            <field name="url"/>
                        </list>
                    </field>
                </page>
            </xpath>
        </field>
    </record>

    <!-- Smart button i tab za project.project -->
    <record id="view_project_form_inherit_linkbox" model="ir.ui.view">
        <field name="name">project.project.form.inherit.linkbox</field>
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project.edit_project"/>
        <field name="arch" type="xml">
            <xpath expr="//sheet/notebook" position="inside">
                <page string="Linkovi">
                    <field name="linkbox_ids">
                        <list>
                            <field name="name"/>
                            <field name="link_type"/>
                            <field name="url"/>
                        </list>
                    </field>
                </page>
            </xpath>
        </field>
    </record>

    <!-- Smart button i tab za res.partner -->
    <record id="view_partner_form_inherit_linkbox" model="ir.ui.view">
        <field name="name">res.partner.form.inherit.linkbox</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath expr="//sheet/notebook" position="inside">
                <page string="Linkovi">
                    <field name="linkbox_ids">
                        <list>
                            <field name="name"/>
                            <field name="link_type"/>
                            <field name="url"/>
                        </list>
                    </field>
                </page>
            </xpath>
        </field>
    </record>

    <!-- ZA KATEGORIJE AKCIJA,LIST I FORM VIEW -->
    <record id="view_linkbox_category_tree" model="ir.ui.view">
        <field name="name">digimen.linkbox.category.list</field>
        <field name="model">digimen.linkbox.category</field>
        <field name="arch" type="xml">
            <list>
                <field name="name"/>
                <field name="description"/>
            </list>
        </field>
    </record>

    <!-- Form view za kategorije -->
    <record id="view_linkbox_category_form" model="ir.ui.view">
        <field name="name">digimen.linkbox.category.form</field>
        <field name="model">digimen.linkbox.category</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="description"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Akcija za otvaranje kategorija -->
    <record id="action_linkbox_category" model="ir.actions.act_window">
        <field name="name">Kategorije linkova</field>
        <field name="res_model">digimen.linkbox.category</field>
        <field name="view_mode">list,form</field>
    </record>
</odoo>